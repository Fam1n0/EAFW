<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ICAR15 Autonomous Visualization</title><style>body{margin:0;display:flex;justify-content:center;align-items:center;height:100vh;background-color:black;overflow:hidden}canvas{position:absolute;touch-action:manipulation}.controls{position:absolute;top:10px;left:10px;z-index:10;display:flex;flex-direction:column;gap:10px}button{font-size:16px;padding:10px;cursor:pointer}.hidden{display:none}</style></head><body><canvas id="chakraCanvas"></canvas><div id="controls" class="controls hidden"><button id="fullscreenButton">Toggle Fullscreen</button></div><script>document.addEventListener("DOMContentLoaded",function(){const chakraCanvas=document.getElementById('chakraCanvas');const ctx=chakraCanvas.getContext('2d');const fullscreenButton=document.getElementById('fullscreenButton');const controls=document.getElementById('controls');let orientationData=JSON.parse(localStorage.getItem('orientationData'))||{alpha:0,beta:0,gamma:0};let feedbackData=JSON.parse(localStorage.getItem('feedbackData'))||[];let weights=JSON.parse(localStorage.getItem('weights'))||[1,1,1];let lastCaptureTime=localStorage.getItem('lastCaptureTime')||0;let startTime=localStorage.getItem('startTime')||new Date().getTime();let generations=JSON.parse(localStorage.getItem('generations'))||[];let learnedPreferences=JSON.parse(localStorage.getItem('learnedPreferences'))||{};class ChakraWave{constructor(x,y,sides,color,shape,intensity,amplitude,speed){this.x=x;this.y=y;this.sides=sides;this.color=color;this.shape=shape;this.intensity=intensity;this.amplitude=amplitude;this.speed=speed;this.radius=0;this.colorShift=0;}draw(ctx,angleOffset){const adjustedIntensity=(Math.sin(this.colorShift)*this.intensity+1)/2;const adjustedColor=`rgba(${hexToRgb(this.color).r*adjustedIntensity},${hexToRgb(this.color).g*adjustedIntensity},${hexToRgb(this.color).b*adjustedIntensity},1)`;switch(this.shape){case 'cube':drawCube(ctx,this.x,this.y,this.radius*this.amplitude,adjustedColor,angleOffset);break;case 'icosahedron':drawIcosahedron(ctx,this.x,this.y,this.radius*this.amplitude,adjustedColor,angleOffset);break;case 'octahedron':drawOctahedron(ctx,this.x,this.y,this.radius*this.amplitude,adjustedColor,angleOffset);break;case 'tetrahedron':drawTetrahedron(ctx,this.x,this.y,this.radius*this.amplitude,adjustedColor,angleOffset);break;case 'dodecahedron':drawDodecahedron(ctx,this.x,this.y,this.radius*this.amplitude,adjustedColor,angleOffset);break;default:drawMandala(ctx,this.x,this.y,this.radius*this.amplitude,adjustedColor,this.sides,angleOffset);}this.radius+=2;this.colorShift+=0.05*this.speed;}}function getRandomColor(){const letters='0123456789ABCDEF';let color='#';for(let i=0;i<6;i++){color+=letters[Math.floor(Math.random()*16)];}return color;}function hexToRgb(hex){const bigint=parseInt(hex.slice(1),16);const r=(bigint>>16)&255;const g=(bigint>>8)&255;const b=(bigint&255);return{r,g,b};}const chakras=[new ChakraWave(window.innerWidth/2,window.innerHeight*0.9,4,getRandomColor(),'cube',1,1,1),new ChakraWave(window.innerWidth/2,window.innerHeight*0.75,6,getRandomColor(),'icosahedron',1,1,1),new ChakraWave(window.innerWidth/2,window.innerHeight*0.6,10,getRandomColor(),'octahedron',1,1,1),new ChakraWave(window.innerWidth/2,window.innerHeight/2,12,getRandomColor(),'tetrahedron',1,1,1),new ChakraWave(window.innerWidth/2,window.innerHeight*0.4,16,getRandomColor(),'dodecahedron',1,1,1)];function fibonacci(n){return n<=1?n:fibonacci(n-1)+fibonacci(n-2);}function drawFractal(x,y,size,depth){if(depth===0){ctx.fillRect(x,y,size,size);return;}size/=3;drawFractal(x,y,size,depth-1);drawFractal(x+size,y,size,depth-1);drawFractal(x+2*size,y,size,depth-1);drawFractal(x,y+size,size,depth-1);drawFractal(x+2*size,y+size,size,depth-1);drawFractal(x,y+2*size,size,depth-1);drawFractal(x+size,y+2*size,size,depth-1);drawFractal(x+2*size,y+2*size,size,depth-1);}function evaluateArtQuality(fibonacciValue,fractalDepth){return fibonacciValue*fractalDepth;}function resizeCanvas(){const width=window.innerWidth;const height=window.innerHeight;chakraCanvas.width=width;chakraCanvas.height=height;ctx.scale(1,1);}resizeCanvas();function drawWave(ctx,x,y,radius,color,sides,angleOffset){ctx.beginPath();for(let i=0;i<sides;i++){const angle=i*2*Math.PI/sides+angleOffset;ctx.lineTo(x+radius*Math.cos(angle),y+radius*Math.sin(angle));}ctx.closePath();ctx.strokeStyle=color;ctx.stroke();}function drawMandala(ctx,x,y,radius,color,sides,angleOffset){const numberOfLayers=5;const layerSeparation=20;for(let i=0;i<numberOfLayers;i++){const layerRadius=radius+(i*layerSeparation);drawWave(ctx,x,y,layerRadius,color,sides,angleOffset);}}function drawCube(ctx,x,y,size,color,angleOffset){ctx.fillStyle=color;ctx.fillRect(x-size/2,y-size/2,size,size);}function drawIcosahedron(ctx,x,y,size,color,angleOffset){ctx.beginPath();ctx.moveTo(x-size/2,y);ctx.lineTo(x+size/2,y);ctx.lineTo(x,y-size/2);ctx.lineTo(x-size/2,y);ctx.fillStyle=color;ctx.fill();}function drawOctahedron(ctx,x,y,size,color,angleOffset){ctx.beginPath();ctx.moveTo(x,y-size/2);ctx.lineTo(x+size/2,y);ctx.lineTo(x,y+size/2);ctx.lineTo(x-size/2,y);ctx.closePath();ctx.strokeStyle=color;ctx.stroke();}function drawTetrahedron(ctx,x,y,size,color,angleOffset){ctx.beginPath();ctx.moveTo(x,y-size/2);ctx.lineTo(x+size/2,y+size/2);ctx.lineTo(x-size/2,y+size/2);ctx.closePath();ctx.strokeStyle=color;ctx.stroke();}function drawDodecahedron(ctx,x,y,size,color,angleOffset){ctx.beginPath();ctx.arc(x,y,size/2,0,2*Math.PI);ctx.strokeStyle=color;ctx.stroke();}function animateWaves(){ctx.globalCompositeOperation='source-over';ctx.fillStyle='rgba(0,0,0,0.1)';ctx.fillRect(0,0,chakraCanvas.width,chakraCanvas.height);ctx.globalCompositeOperation='lighter';const time=new Date();const seconds=time.getSeconds()+time.getMilliseconds()/1000;const angleOffset=(seconds*(2*Math.PI/60))+(orientationData.alpha*Math.PI/180);chakras.forEach(chakra=>chakra.draw(ctx,angleOffset));requestAnimationFrame(animateWaves);}function determineFlow(hexagram){const flows=['North','South','East','West','Northeast','Northwest','Southeast','Southwest','Up','Down','Inward','Outward'];const index=parseInt(hexagram,2)%flows.length;return flows[index];}function generateHexagram(){let hexagram='';for(let i=0;i<6;i++){hexagram+=Math.random()>0.5?'1':'0';}return hexagram;}fullscreenButton.addEventListener('click',function(){if(!document.fullscreenElement){document.documentElement.requestFullscreen();}else if(document.exitFullscreen){document.exitFullscreen();}});chakraCanvas.addEventListener('click',function(){controls.classList.toggle('hidden');});function selfLearningFlow(){const hexagram=generateHexagram();const flowDirection=determineFlow(hexagram);console.log(`Self-learning decision: Hexagram - ${hexagram}, Flow Direction - ${flowDirection}`);const fibonacciValue=fibonacci(10);const fractalDepth=3;const artQuality=evaluateArtQuality(fibonacciValue,fractalDepth);console.log(`Art Quality Score: ${artQuality}`);const currentTime=new Date().getTime();
  if(currentTime-startTime>36000&&(artQuality>50)){feedbackData.push({time:new Date(),good:true});console.log('Self-learning decision: Good');}else{feedbackData.push({time:new Date(),good:false});console.log('Self-learning decision: Bad');}localStorage.setItem('feedbackData',JSON.stringify(feedbackData));let recentFeedback=feedbackData.slice(-10);let goodCount=recentFeedback.filter(data=>data.good).length;let badCount=recentFeedback.length-goodCount;weights=weights.map((weight,index)=>{if(index===0){return weight+0.1*goodCount-0.1*badCount;}else if(index===1){return weight+0.05*goodCount-0.05*badCount;}else if(index===2){return weight+0.02*goodCount-0.02*badCount;}});localStorage.setItem('weights',JSON.stringify(weights));chakras.forEach(chakra=>{chakra.intensity=weights[0]*Math.random();chakra.amplitude=weights[1]*Math.random();chakra.speed=weights[2]*Math.random();});setTimeout(selfLearningFlow,9000);}function setupAudio(){const audioCtx=new(window.AudioContext||window.webkitAudioContext)();const analyser=audioCtx.createAnalyser();analyser.fftSize=2048;const bufferLength=analyser.frequencyBinCount;const dataArray=new Uint8Array(bufferLength);navigator.mediaDevices.getUserMedia({audio:true}).then(stream=>{const source=audioCtx.createMediaStreamSource(stream);source.connect(analyser);analyzeAudio();});function analyzeAudio(){analyser.getByteTimeDomainData(dataArray);let sum=0;for(let i=0;i<bufferLength;i++){const value=dataArray[i]/128.0;sum+=value*value;}const rms=Math.sqrt(sum/bufferLength);const amplitude=rms*5;chakras.forEach(chakra=>{chakra.amplitude=amplitude;});requestAnimationFrame(analyzeAudio);}}function savePreferences(){learnedPreferences={orientationData,feedbackData,weights,lastCaptureTime,startTime,generations,};localStorage.setItem('learnedPreferences',JSON.stringify(learnedPreferences));}function loadPreferences(){if(localStorage.getItem('learnedPreferences')){const savedPreferences=JSON.parse(localStorage.getItem('learnedPreferences'));orientationData=savedPreferences.orientationData;feedbackData=savedPreferences.feedbackData;weights=savedPreferences.weights;lastCaptureTime=savedPreferences.lastCaptureTime;startTime=savedPreferences.startTime;generations=savedPreferences.generations;}}loadPreferences();setupAudio();animateWaves();setTimeout(selfLearningFlow,36000);window.addEventListener('deviceorientation',function(event){orientationData.alpha=event.alpha;orientationData.beta=event.beta;orientationData.gamma=event.gamma;localStorage.setItem('orientationData',JSON.stringify(orientationData));});window.addEventListener('resize',resizeCanvas);window.addEventListener('beforeunload',savePreferences);});</script></body></html>
